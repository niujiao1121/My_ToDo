# 批量创建 TODO 和项目标签使用示例

本文档展示如何使用新功能：批量创建 TODO 和项目标签管理。

## 功能 1：批量创建 TODO

### 使用场景

当你需要快速为一个任务分解多个子任务时，不需要多次评论，只需在一条评论中使用多个 `/todo` 命令即可。

### 使用方法

在任何 Issue 下评论，每行一个 `/todo` 命令：

```
/todo 实现用户注册功能，包括表单验证，后端开发，3天
/todo 实现用户登录功能，JWT认证，后端开发，2天
/todo 设计用户个人资料页面，前端开发，明天完成
```

### 系统行为

1. 系统检测到 3 个 `/todo` 命令
2. 发送提示消息："🔄 检测到 3 个 TODO，正在批量创建..."
3. 为每个 `/todo` 创建独立的 Issue
4. 所有创建的 Issue 自动关联为当前 Issue 的子任务
5. 完成后发送汇总消息，列出所有成功和失败的创建

### 汇总消息示例

```
✅ 批量 TODO 创建完成！

📊 统计: 成功 3 个，失败 0 个

### ✅ 成功创建的 TODO

1. [#25](链接) - 实现用户注册功能 `backend` (子任务 #20)
2. [#26](链接) - 实现用户登录功能 `backend` (子任务 #20)
3. [#27](链接) - 设计用户个人资料页面 `frontend` (子任务 #20)

---

💡 提示：AI 自动解析可能不完全准确，请查看并补充完善信息。
```

### 注意事项

- 每行必须以 `/todo` 开头
- 每个 `/todo` 后面跟随任务描述
- 支持所有常规 TODO 的语法（日期、优先级、模块等）
- 如果某个 TODO 创建失败，其他的会继续创建

---

## 功能 2：项目标签管理

### 使用场景

当你管理一个大型项目时，希望所有子任务都带上特定的标签（如团队、冲刺、版本等），方便后续筛选和管理。

### 步骤 1：创建项目 Issue

使用 "项目/大型任务" 模板创建 Issue：

```markdown
---
name: 项目/大型任务
about: 创建一个新的大型项目或任务线
title: '[PROJECT] 用户认证系统'
labels: ['project']
---

## 📋 项目概述

**项目名称**: 用户认证系统

**项目目标**: 
实现完整的用户注册、登录、权限管理功能

**预期收益**: 
提升系统安全性，支持多用户访问

**项目标签**: 
sprint-1, auth-module, v2.0

<!-- 这些标签会自动应用到所有子任务 -->
```

### 步骤 2：创建子任务

在项目 Issue（假设是 #30）下使用 `/todo` 命令：

```
/todo 实现用户注册API，后端开发，3天
```

### 系统行为

1. 创建新的子任务 Issue（如 #31）
2. 从父任务 #30 中提取项目标签：`sprint-1`, `auth-module`, `v2.0`
3. 将这些标签自动添加到子任务 #31
4. 子任务 #31 最终的标签：
   - `subtask`（自动添加）
   - `task-with-deadline` 或 `task-open`（根据是否有截止日期）
   - `priority:medium`（AI 推断或默认）
   - `sprint-1`（从项目继承）
   - `auth-module`（从项目继承）
   - `v2.0`（从项目继承）
   - `ai-generated`（自动添加）

### 步骤 3：筛选和管理

现在你可以通过标签轻松筛选：

- 查看 `sprint-1` 标签：显示第一个冲刺的所有任务
- 查看 `auth-module` 标签：显示认证模块的所有任务
- 查看 `v2.0` 标签：显示 2.0 版本的所有任务
- 组合筛选：`sprint-1` + `priority:high`：显示第一个冲刺的高优先级任务

### 标签命名建议

1. **使用小写字母、数字和连字符**
   - ✅ 好的：`sprint-1`, `team-frontend`, `q1-2024`
   - ❌ 不好的：`Sprint 1`, `Team Frontend`, `Q1 2024`

2. **使用有意义的前缀**
   - 冲刺：`sprint-1`, `sprint-2`
   - 团队：`team-frontend`, `team-backend`
   - 版本：`v1.0`, `v2.0`
   - 季度：`q1-2024`, `q2-2024`
   - 客户：`client-abc`, `client-xyz`

3. **避免与系统标签冲突**
   - 系统标签包括：`project`, `task-with-deadline`, `priority:*`, `status:*`, `type:*` 等
   - 自定义标签应该使用不同的命名模式

### 完整示例：敏捷开发项目

#### 创建项目

```markdown
## 📋 项目概述

**项目名称**: 电商平台 Sprint 1

**项目目标**: 
完成用户系统、商品管理和购物车功能

**项目标签**: 
sprint-1, ecommerce, q1-2024, team-alpha
```

#### 批量创建子任务

在项目下评论：

```
/todo 实现用户注册和登录，后端开发，本周五完成
/todo 设计商品列表页面，前端开发，下周一完成
/todo 实现购物车功能，全栈开发，下周五完成
/todo 编写API文档和用户手册，文档编写，下周完成
```

#### 结果

- 创建了 4 个子任务
- 每个子任务都自动带上 `sprint-1`, `ecommerce`, `q1-2024`, `team-alpha` 标签
- 每个子任务根据 AI 分析会有各自的优先级和任务类型标签
- 可以通过标签轻松查看项目进度和分类

### 高级用法：标签组合筛选

在 GitHub Issues 页面，你可以组合多个标签进行筛选：

```
is:open label:sprint-1 label:priority:high
```
查看 Sprint 1 中所有未完成的高优先级任务

```
is:open label:sprint-1 label:priority:high
```
查看 Sprint 1 中所有高优先级任务

```
is:closed label:sprint-1
```
查看 Sprint 1 中所有已完成的任务

---

## 组合使用两个功能

最佳实践：先创建项目并定义标签，然后批量创建子任务，让所有子任务自动继承标签。

### 完整流程示例

**1. 创建项目 Issue #50**
```markdown
**项目名称**: 博客系统重构
**项目标签**: refactor-2024, blog-module, tech-debt
```

**2. 在 #50 下批量创建子任务**
```
/todo 重构用户认证逻辑，后端优化，3天
/todo 优化数据库查询性能，数据库优化，2天
/todo 重写前端组件架构，前端重构，5天
/todo 更新API文档，文档更新，1天
```

**3. 结果**
- 创建了 4 个子任务（#51, #52, #53, #54）
- 所有子任务都自动关联到 #50
- 所有子任务都继承了 `refactor-2024`, `blog-module`, `tech-debt` 标签
- 每个子任务还有各自的模块标签和优先级

**4. 管理和跟踪**
- 查看所有重构任务：筛选 `refactor-2024` 标签
- 查看博客模块任务：筛选 `blog-module` 标签
- 查看技术债务任务：筛选 `tech-debt` 标签
- 组合筛选：快速找到特定类型的任务

---

## 常见问题

### Q: 批量创建 TODO 有数量限制吗？

A: 建议每次不超过 10 个 TODO，避免 API 限流。对于更多的任务，可以分批创建。

### Q: 如果某个 TODO 创建失败会影响其他的吗？

A: 不会。系统会继续处理剩余的 TODO，最后在汇总消息中显示成功和失败的情况。

### Q: 项目标签可以动态修改吗？

A: 可以。你可以随时编辑项目 Issue 的 **项目标签** 字段。但这只影响**新创建**的子任务，已有的子任务标签不会自动更新。

### Q: 可以为子任务添加额外的自定义标签吗？

A: 可以。子任务会继承项目标签，你还可以手动为子任务添加其他标签。

### Q: 标签太多会不会影响性能？

A: 不会。GitHub 的标签系统性能很好。但建议保持标签体系清晰，避免过度分类。

### Q: 如何删除已经继承的项目标签？

A: 可以在子任务的标签列表中手动删除不需要的标签。

---

## 总结

这两个新功能大大提升了 TODO 管理的效率：

1. **批量创建 TODO**：一次性为项目分解多个子任务，节省时间
2. **项目标签管理**：自动化标签管理，便于分类、筛选和跟踪

结合使用这两个功能，可以实现高效的项目管理和任务跟踪。
